import clsx from "clsx";
import Loading from "../icons/loading";

const isAndroid = () => {
  if (typeof window === "undefined") return false;
  return /Android/i.test(navigator.userAgent);
};

export default function Toast({ type, title, text, closeToast }: any) {
  const isAndroidDevice = isAndroid();
  return (
    <div
      className={clsx(
        "rounded-[12px] border border-[#743EFF] px-[12px] py-[8px] flex gap-[10px] w-[288px] items-center md:w-[288px] max-md:w-[calc(100vw-32px)]",
        isAndroidDevice
          ? "bg-[#35302B]"
          : "bg-[#35302B]/30 backdrop-blur-[10px]"
      )}
    >
      {type === "success" && (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="22"
          height="22"
          viewBox="0 0 22 22"
          fill="none"
        >
          <circle cx="11" cy="11" r="11" fill="#39A156" />
          <path
            d="M6 10.8571L9.09375 14L15 8"
            stroke="white"
            strokeWidth="2"
            strokeLinecap="round"
          />
        </svg>
      )}
      {type === "error" && (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="22"
          height="22"
          viewBox="0 0 22 22"
          fill="none"
        >
          <circle cx="11" cy="11" r="11" fill="#FF6A8E" />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M15.0407 8.95711C15.4312 8.56658 15.4312 7.93342 15.0407 7.54289C14.6502 7.15237 14.017 7.15237 13.6265 7.54289L11.2921 9.87733L8.95762 7.54289C8.56709 7.15237 7.93393 7.15237 7.5434 7.54289C7.15288 7.93342 7.15288 8.56658 7.5434 8.95711L9.87784 11.2915L7.54289 13.6265C7.15237 14.017 7.15237 14.6502 7.54289 15.0407C7.93342 15.4312 8.56658 15.4312 8.95711 15.0407L11.2921 12.7058L13.627 15.0407C14.0175 15.4312 14.6507 15.4312 15.0412 15.0407C15.4317 14.6502 15.4317 14.017 15.0412 13.6265L12.7063 11.2915L15.0407 8.95711Z"
            fill="white"
          />
        </svg>
      )}
      {type === "pending" && <Loading />}
      {type === "notice" && (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
        >
          <path
            d="M15.4125 5.32782L10.3969 8.39657C9.74373 8.79345 8.9906 9.00282 8.22498 8.9997H5.74373C3.67498 8.9997 2.02185 10.6091 2.02185 12.5684V19.6622C2.02185 21.8247 3.83123 23.5841 6.05623 23.5841H8.94998C9.72498 23.5841 10.4469 23.7841 11.1219 24.1872L15.4625 26.7528C15.775 26.9559 16.1343 27.0559 16.5469 27.0559C17.6844 27.0559 18.6156 26.1497 18.6156 25.0434V7.0372C18.6156 6.6872 18.5125 6.28095 18.3031 5.98095C17.6344 5.02782 16.3937 4.7247 15.4125 5.32782ZM28.9031 15.0341H22.7C22.1375 15.0278 21.675 15.4778 21.6656 16.0403C21.6656 16.5934 22.1312 17.0466 22.7 17.0466H28.9031C29.4719 17.0466 29.9375 16.5934 29.9375 16.0403C29.9281 15.4778 29.4656 15.0278 28.9031 15.0341ZM28.4906 23.5872L23.1125 20.5716C22.6312 20.2841 22.0062 20.4403 21.7156 20.9216C21.575 21.1466 21.5312 21.4216 21.6 21.6778C21.6687 21.9341 21.8406 22.1528 22.075 22.2778L27.4531 25.2966C27.9344 25.5841 28.5594 25.4278 28.85 24.9466C29.1625 24.4934 29.0062 23.8903 28.4906 23.5872ZM23.0625 11.5153L28.4375 8.49657C28.9562 8.19657 29.1094 7.59345 28.8 7.1372C28.4906 6.63407 27.8719 6.48407 27.4031 6.7872L22.025 9.80595C21.5093 10.1091 21.3531 10.7122 21.6625 11.1653C21.9781 11.6153 22.5968 11.8153 23.0625 11.5153Z"
            fill="#FFEF43"
          />
        </svg>
      )}
      <div className="flex items-start justify-between flex-grow text-white">
        <div className="flex flex-col gap-[5px]">
          <div className="text-[16px] font-semibold leading-normal items-center">
            {title}
          </div>
          {text && (
            <div className="text-[12px] font-normal leading-normal">{text}</div>
          )}
        </div>
        <div
          className="mt-[6px] flex-shrink-0 cursor-pointer"
          onClick={closeToast}
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="12"
            height="12"
            viewBox="0 0 12 12"
            fill="none"
          >
            <path
              d="M7.73284 6.00004L11.7359 1.99701C12.0368 1.696 12.0882 1.2593 11.8507 1.0219L10.9779 0.14909C10.7404 -0.0884124 10.3043 -0.0363122 10.0028 0.264491L6.00013 4.26743L1.99719 0.264591C1.69619 -0.036712 1.25948 -0.0884125 1.02198 0.14939L0.149174 1.0223C-0.0882277 1.2594 -0.0368271 1.6961 0.264576 1.99711L4.26761 6.00004L0.264576 10.0033C-0.0363271 10.3041 -0.0884277 10.7405 0.149174 10.978L1.02198 11.8509C1.25948 12.0884 1.69619 12.0369 1.99719 11.736L6.00033 7.73276L10.0029 11.7354C10.3044 12.037 10.7405 12.0884 10.978 11.8509L11.8508 10.978C12.0882 10.7405 12.0368 10.3041 11.736 10.0029L7.73284 6.00004Z"
              fill="white"
            />
          </svg>
        </div>
      </div>
    </div>
  );
}
